<% include ./partials/header %>

<div id="_header">
	<label id="_headtitle">Your Best Storage Solution</label>
	<label id="_headtitle_mobile">Uze</label>
</div>

<div class="container _main _textCenter">

	<!-- ========================= MAP =================== -->
	<div id="map"></div>
		    <!-- <script>
		      function initMap() {
		        var uluru = {lat: , lng: };
		        var map = new google.maps.Map(document.getElementById('map'), {
		          zoom: 13,
    					center: uluru
		        });

		        var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';

		        //customize marker
		        var image={
		        	// url: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
		        	url: "/img/mapIcon.png",
		        	size: new google.maps.Size(84, 84),
		        	// The origin for this image is (0, 0).
					    origin: new google.maps.Point(0, 0),
					    // The anchor for this image is the base of the flagpole at (0, 32).
					    anchor: new google.maps.Point(0, 0)
		        }
		     //    var shape = {
					  //   coords: [1, 1, 1, 20, 18, 20, 18, 1],
					  //   type: 'poly'
					  // };
		        var marker = new google.maps.Marker({
		          position: uluru,
		          map: map,
		          icon: "/img/mapIcon.png"
			        });
		      }
		    </script> -->
		    <script>
			      // Note: This example requires that you consent to location sharing when
			      // prompted by your browser. If you see the error "The Geolocation service
			      // failed.", it means you probably did not give permission for the browser to
    				// locate you.
    				var map, infoWindow;
    				function initMap() {
    					map = new google.maps.Map(document.getElementById('map'), {
    						center: {lat: -34.397, lng: 150.644},
    						zoom: 13,

    						styles: [
    						{
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#1d2c4d"
    							}
    							]
    						},
    						{
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#8ec3b9"
    							}
    							]
    						},
    						{
    							"elementType": "labels.text.stroke",
    							"stylers": [
    							{
    								"color": "#1a3646"
    							}
    							]
    						},
    						{
    							"featureType": "administrative.country",
    							"elementType": "geometry.stroke",
    							"stylers": [
    							{
    								"color": "#4b6878"
    							}
    							]
    						},
    						{
    							"featureType": "administrative.land_parcel",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#64779e"
    							}
    							]
    						},
    						{
    							"featureType": "administrative.province",
    							"elementType": "geometry.stroke",
    							"stylers": [
    							{
    								"color": "#4b6878"
    							}
    							]
    						},
    						{
    							"featureType": "landscape.man_made",
    							"elementType": "geometry.stroke",
    							"stylers": [
    							{
    								"color": "#334e87"
    							}
    							]
    						},
    						{
    							"featureType": "landscape.natural",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#023e58"
    							}
    							]
    						},
    						{
    							"featureType": "poi",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#283d6a"
    							}
    							]
    						},
    						{
    							"featureType": "poi",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#6f9ba5"
    							}
    							]
    						},
    						{
    							"featureType": "poi",
    							"elementType": "labels.text.stroke",
    							"stylers": [
    							{
    								"color": "#1d2c4d"
    							}
    							]
    						},
    						{
    							"featureType": "poi.park",
    							"elementType": "geometry.fill",
    							"stylers": [
    							{
    								"color": "#023e58"
    							}
    							]
    						},
    						{
    							"featureType": "poi.park",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#3C7680"
    							}
    							]
    						},
    						{
    							"featureType": "road",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#304a7d"
    							}
    							]
    						},
    						{
    							"featureType": "road",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#98a5be"
    							}
    							]
    						},
    						{
    							"featureType": "road",
    							"elementType": "labels.text.stroke",
    							"stylers": [
    							{
    								"color": "#1d2c4d"
    							}
    							]
    						},
    						{
    							"featureType": "road.highway",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#2c6675"
    							}
    							]
    						},
    						{
    							"featureType": "road.highway",
    							"elementType": "geometry.stroke",
    							"stylers": [
    							{
    								"color": "#255763"
    							}
    							]
    						},
    						{
    							"featureType": "road.highway",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#b0d5ce"
    							}
    							]
    						},
    						{
    							"featureType": "road.highway",
    							"elementType": "labels.text.stroke",
    							"stylers": [
    							{
    								"color": "#023e58"
    							}
    							]
    						},
    						{
    							"featureType": "transit",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#98a5be"
    							}
    							]
    						},
    						{
    							"featureType": "transit",
    							"elementType": "labels.text.stroke",
    							"stylers": [
    							{
    								"color": "#1d2c4d"
    							}
    							]
    						},
    						{
    							"featureType": "transit.line",
    							"elementType": "geometry.fill",
    							"stylers": [
    							{
    								"color": "#283d6a"
    							}
    							]
    						},
    						{
    							"featureType": "transit.station",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#3a4762"
    							}
    							]
    						},
    						{
    							"featureType": "water",
    							"elementType": "geometry",
    							"stylers": [
    							{
    								"color": "#0e1626"
    							}
    							]
    						},
    						{
    							"featureType": "water",
    							"elementType": "labels.text.fill",
    							"stylers": [
    							{
    								"color": "#4e6d70"
    							}
    							]
    						}
    						]
    					});

    					infoWindow = new google.maps.InfoWindow;


      // Try HTML5 geolocation.
      if (navigator.geolocation) {
      	navigator.geolocation.getCurrentPosition(function(position) {
      		var pos = {
      			lat: position.coords.latitude,
      			lng: position.coords.longitude
      		};

      		console.log('geolocation!');

      		infoWindow.setPosition(pos);
      		infoWindow.setContent('Location found.');
      		infoWindow.open(map);
      		map.setCenter(pos);
      	}, function() {
      		handleLocationError(true, infoWindow, map.getCenter());
      	});
      } else {
	          // Browser doesn't support Geolocation
	          handleLocationError(false, infoWindow, map.getCenter());
	        }
	      }

	      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
	      	infoWindow.setPosition(pos);
	      	infoWindow.setContent(browserHasGeolocation ?
	      		'Error: The Geolocation service failed.' :
	      		'Error: Your browser doesn\'t support geolocation.');
	      	infoWindow.open(map);
	      }



	    </script>
	    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
	    <script async defer src="https://maps.googleapis.com/maps/api/js?key=<%=process.env.GOOGLEJSAPI%>=initMap">
	    </script>
	    <!-- ============================== map ends ===================== -->

	    <p></p>

	    <a href="/demand" class="btn btn-outline-primary">I WANT space</a>
	    <a href="/supply" class="btn btn-outline-dark">I HAVE space</a>

	    <br>
	    <form class="_donateButton" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
	    	<input type="hidden" name="cmd" value="_s-xclick">
	    	<input type="hidden" name="hosted_button_id" value="CSZE5ZW9J6LYN">
	    	<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
	    	<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
	    </form>
	  </div>

	  <% include ./partials/footer %>